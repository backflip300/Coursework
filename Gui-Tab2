package gui;

import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.JButton;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.border.Border;
import javax.swing.table.DefaultTableModel;

import processing.GetNewStock;
import tableModels.Tab2TableModel;
import tableModels.timetableTableModel;
import net.miginfocom.swing.MigLayout;

public class Tab2 {

	private JPanel tab2;
	private JTable table, ttable;
	private Tab2TableModel tModel;
	private timetableTableModel ttModel;
	private DefaultTableModel dtablemodel, dtablemodel2;
	private GetNewStock getNewStock;
	public Tab2() {
	}

	@SuppressWarnings("serial")
	public JPanel create() {

		// layout
		tab2 = new JPanel();
		tab2.setLayout(new MigLayout());

		// create products table
		tModel = new Tab2TableModel();
		dtablemodel = new DefaultTableModel(tModel.data, new Object[] {
				"product", "# to produce" }) {
			@Override
			public boolean isCellEditable(int row, int column) {
				return column == 1;
			}
		};
		table = new JTable(dtablemodel);
		JScrollPane scrollPane = new JScrollPane(table);
		table.getTableHeader().setReorderingAllowed(false);

		// create timetable table
		ttModel = new timetableTableModel();
		dtablemodel2 = new DefaultTableModel(ttModel.data, new Object[] {
				"timetable", "start", "finish" }) {
			@Override
			public boolean isCellEditable(int row, int column) {
				return column >= 1;
			}

		};
		ttable = new JTable(dtablemodel2);
		JScrollPane ttscrollPane = new JScrollPane(ttable);
		ttable.getTableHeader().setReorderingAllowed(false);

		// create buttons
		JButton NewProduct = new JButton("New Product");

		NewProduct.addActionListener(new ActionListener() {

			@Override
			public void actionPerformed(ActionEvent arg0) {
				getNewStock = new GetNewStock();
			}
		});
		// set sizes

		scrollPane.setPreferredSize(new Dimension(200, 400));
		ttscrollPane.setPreferredSize(new Dimension(300, 400));
		tab2.add(scrollPane);
		tab2.add(ttscrollPane, "wrap");

		// adding
		return tab2;
	}
}
